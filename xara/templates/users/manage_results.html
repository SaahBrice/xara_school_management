{% extends "users/dashboard_base.html" %}
{% load static %}

{% block title %}Manage Results{% endblock %}

{% block dashboard_content %}
<h2>Manage Results</h2>

<div class="row mb-3">
    <div class="col-md-4">
        <select id="academic-year-select" class="form-select">
            <option value="">Select Academic Year</option>
            {% for year in academic_years %}
                <option value="{{ year.id }}">{{ year.year }}</option>
            {% endfor %}
        </select>
    </div>
    <div class="col-md-4">
        <select id="class-select" class="form-select" disabled>
            <option value="">Select Class</option>
        </select>
    </div>
    <div class="col-md-4">
        <select id="exam-select" class="form-select" disabled>
            <option value="">Select Exam</option>
        </select>
    </div>
</div>

<input type="text" id="searchInput" class="form-control mb-3" placeholder="Search by student name">
<div id="tableContainer" class="table-responsive"></div>
<div id="overallStats" class="mt-3"></div>

<div id="modalContainer" class="modal fade" tabindex="-1" aria-labelledby="studentModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="studentModalLabel">Student Details</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <!-- Modal content will be injected here -->
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

{% endblock %}

{% block extra_js %}
<script src="{% static 'js/manage_results.js' %}"></script>
{% endblock %}